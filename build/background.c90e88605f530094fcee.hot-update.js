webpackHotUpdate("background",{

/***/ "./src/js/background.js":
/*!******************************!*\
  !*** ./src/js/background.js ***!
  \******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var _img_icon_128_png__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../img/icon-128.png */ \"./src/img/icon-128.png\");\n/* harmony import */ var _img_icon_128_png__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_img_icon_128_png__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _img_icon_34_png__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../img/icon-34.png */ \"./src/img/icon-34.png\");\n/* harmony import */ var _img_icon_34_png__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_img_icon_34_png__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _time_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./time.js */ \"./src/js/time.js\");\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n\n\n'use strict';\n\n\nlet tableEntry = {};\nvar startTime, endTime;\ninitializeTableEntries();\nupdateTitle();\nupdateLastVisited();\nupdateTimeElapsedOnTabChange();\nconsole.log(chrome.windows.WINDOW_ID_CURRENT);\n\nfunction updateTitle() {\n  chrome.tabs.onUpdated.addListener(function (tabId, changeInfo, tab) {\n    if (changeInfo != undefined && changeInfo.favIconUrl != undefined) {\n      tableEntry[tabId].faviconUrl = changeInfo.favIconUrl;\n      console.log('favicon url onupdated: ', tableEntry[tabId].faviconUrl);\n      chrome.storage.local.set({\n        entries: tableEntry\n      });\n    }\n\n    if (changeInfo != undefined && changeInfo.url != undefined) {\n      tableEntry[tabId].url = changeInfo.url;\n      console.log('yes: ', tableEntry[tabId].url);\n      chrome.storage.local.set({\n        entries: tableEntry\n      });\n    }\n\n    if (changeInfo != undefined && changeInfo.title != undefined) {\n      tableEntry[tabId].title = changeInfo.title;\n      console.log('New title of ', tabId, 'is', tableEntry[tabId].title);\n      chrome.storage.local.set({\n        entries: tableEntry\n      });\n    }\n  });\n}\n\nfunction initializeTableEntries() {\n  chrome.tabs.query({\n    currentWindow: true\n  }, function (arrayOfTabs) {\n    for (const tab of arrayOfTabs) {\n      console.log(\"Query url: \", tab.favIconUrl);\n      tableEntry[tab.id] = {\n        id: tab.id,\n        url: tab.url,\n        faviconUrl: tab.favIconUrl,\n        title: tab.title,\n        timeElapsed: 0,\n        lastVisited: ''\n      };\n      chrome.storage.local.set({\n        entries: tableEntry\n      });\n    }\n  });\n} // Deletes new tabs after a user-specified delay\n\n\nchrome.tabs.onCreated.addListener(function (tab) {\n  tableEntry[tab.id] = {\n    id: tab.id,\n    url: tab.pendingUrl,\n    title: tab.title,\n    timeElapsed: 0,\n    lastVisited: ''\n  };\n  chrome.storage.local.set({\n    entries: tableEntry\n  });\n  chrome.storage.local.get(null, function (results) {\n    if (results.auto_delete_toggle == true) {\n      results.tabsToDelete[tab.id] = new Date().toString();\n      chrome.storage.local.set({\n        tabsToDelete: results.tabsToDelete\n      });\n      console.log('Debug #1 ', tab.id, results.tabsToDelete);\n      delayedDelete(tab.id);\n    }\n  });\n}); // // In the case the user self-deletes the tab before delayedDelete is ran, no errors will be found\n\nchrome.tabs.onRemoved.addListener(function (tabID, removeInfo) {\n  console.log('Removed', tabID, 'from tableEntry. Original data:', tableEntry[tabID]);\n  delete tableEntry[tabID];\n  console.log('Check to see if data is now null:', tableEntry[tabID]);\n  chrome.storage.local.set({\n    entries: tableEntry\n  });\n  chrome.storage.local.get(null, function (results) {\n    if (results.tabsToDelete != undefined && results.tabsToDelete.hasOwnProperty(tabID) && results.auto_delete_toggle == true) {\n      delete results.tabsToDelete[tabID];\n      chrome.storage.local.set({\n        tabsToDelete: results.tabsToDelete\n      });\n    }\n  });\n}); // // Updates the Last Visited column for the current tab\n\nfunction updateLastVisited() {\n  chrome.tabs.onActivated.addListener(function (activeInfo) {\n    let currentTab = activeInfo.tabId;\n\n    if (tableEntry[currentTab] != undefined) {\n      tableEntry[currentTab].lastVisited = dateToString(new Date());\n      chrome.storage.local.set({\n        entries: tableEntry\n      });\n    }\n  });\n} // Updates the Time Elapsed column for the current tab\n\n\nfunction updateTimeElapsedOnTabChange() {\n  chrome.tabs.query({\n    currentWindow: true,\n    active: true\n  }, function (arrayOfTabs) {\n    let previous = arrayOfTabs[0].id;\n    chrome.tabs.onActivated.addListener(function (activeInfo) {\n      console.log(\"----------------------------------Time elapsed onActivated-------------------------------------\");\n      let current = activeInfo.tabId;\n\n      if (tableEntry[previous] != undefined) {\n        console.log('Tab switch triggered -- Previous Tab:', tableEntry[previous].title);\n        tableEntry[previous].timeElapsed = tableEntry[previous].timeElapsed + Object(_time_js__WEBPACK_IMPORTED_MODULE_2__[\"end\"])(endTime, startTime);\n        chrome.storage.local.set({\n          entries: tableEntry\n        });\n      }\n\n      if (tableEntry[current].timeElapsed == undefined) {\n        console.log('Undefined current tab yas -- Title: ', tableEntry[current].title);\n        tableEntry[current].timeElapsed = 0;\n      } else {\n        startTime = Object(_time_js__WEBPACK_IMPORTED_MODULE_2__[\"start\"])();\n        chrome.storage.local.set({\n          entries: tableEntry\n        });\n        previous = current;\n      }\n    });\n  });\n}\n\nfunction delayedDelete(tabID) {\n  let delayedTime;\n  chrome.storage.local.get(null, function (results) {\n    if (results.timeUnit == \"minutes\") {\n      delayedTime = results.auto_delete_time_amount * 60000;\n    }\n\n    ;\n\n    if (results.timeUnit == \"hours\") {\n      delayedTime = results.auto_delete_time_amount * 3600000;\n    }\n\n    ;\n    chrome.storage.local.get(null, function (results) {\n      setTimeout(function () {\n        chrome.storage.local.get(null, function (results) {\n          if (tabID in results.tabsToDelete) {\n            chrome.tabs.remove(tabID);\n          }\n        });\n      }, delayedTime);\n    });\n  });\n}\n\nfunction dateToString(dateObject) {\n  const year = dateObject.getFullYear();\n  const month = dateObject.getMonth() + 1;\n  const day = dateObject.getDate();\n  let hour = dateObject.getHours();\n  let minutes = dateObject.getMinutes();\n  let seconds = dateObject.getSeconds();\n\n  if (dateObject.getHours() < 10) {\n    hour = \"0\" + dateObject.getHours();\n  }\n\n  if (dateObject.getMinutes() < 10) {\n    minutes = \"0\" + dateObject.getMinutes();\n  }\n\n  if (dateObject.getSeconds() < 10) {\n    seconds = \"0\" + dateObject.getSeconds();\n  }\n\n  const formattedDate = month + \"/\" + day + \"/\" + year;\n  const formattedTime = hour + \":\" + minutes + \":\" + seconds;\n  const finishedFormattedString = formattedDate + \", \" + formattedTime;\n  return finishedFormattedString;\n}\n\nlet db = null;\n\nfunction createDataStore() {\n  const request = window.indexedDB.open('MyIndexedDB');\n\n  request.onerrror = function (event) {\n    console.log('Error in opening MyIndexedDB.');\n  };\n\n  request.onupgradeneeded = function (event) {\n    db = event.target.result;\n    let store = db.createObjectStore('bookmarks', {\n      keyPath: 'id',\n      autoIncrement: false\n    });\n\n    store.transaction.oncomplete = function (event) {\n      console.log('Store created.');\n    };\n  };\n\n  request.onsuccess = function (event) {\n    db = event.target.result;\n    console.log('MyIndexedDB opened.');\n  };\n}\n\nfunction deleteDataStore() {\n  const request = window.indexedDB.deleteDatebase('MyIndexedDB');\n\n  request.onerrror = function (event) {\n    console.log('Error in deleting MyIndexedDB.');\n  };\n\n  request.onsuccess = function (event) {\n    console.log('Successful deleting MyIndexedDB.');\n  };\n}\n\nfunction insertRecord(record) {\n  if (db) {\n    const insertTransaction = db.transaction('bookmarks', 'readwrite');\n    const objectStore = insertTransaction.objectStore('bookmarks');\n\n    insertTransaction.oncomplete = function () {\n      console.log('All insert transactions are complete.');\n    };\n\n    insertTransaction.onerror = function () {\n      console.log('Error inserting transactions.');\n    };\n\n    let request = objectStore.add(record);\n\n    request.onsuccess = function (event) {\n      console.log('Successfully added.');\n    };\n  }\n} // Listener for IndexedDB operations\n\n\nchrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\n  // When the user clicks on 'Bookmark' for a row in the Tab Manager\n  if (request.message == 'insert') {\n    insertRecord(request.newBookmark);\n  } // When the user clicks on the 'View Bookmarks' button\n  else if (request.message == 'launch') {\n      console.log('Received Launch');\n      chrome.tabs.create({\n        url: chrome.runtime.getURL('./dashboard.html')\n      });\n    }\n});\ncreateDataStore();\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(tableEntry, \"tableEntry\", \"C:\\\\Users\\\\STP Interlude\\\\Desktop\\\\AntiTabHoarder-Beta\\\\src\\\\js\\\\background.js\");\n  reactHotLoader.register(startTime, \"startTime\", \"C:\\\\Users\\\\STP Interlude\\\\Desktop\\\\AntiTabHoarder-Beta\\\\src\\\\js\\\\background.js\");\n  reactHotLoader.register(endTime, \"endTime\", \"C:\\\\Users\\\\STP Interlude\\\\Desktop\\\\AntiTabHoarder-Beta\\\\src\\\\js\\\\background.js\");\n  reactHotLoader.register(updateTitle, \"updateTitle\", \"C:\\\\Users\\\\STP Interlude\\\\Desktop\\\\AntiTabHoarder-Beta\\\\src\\\\js\\\\background.js\");\n  reactHotLoader.register(initializeTableEntries, \"initializeTableEntries\", \"C:\\\\Users\\\\STP Interlude\\\\Desktop\\\\AntiTabHoarder-Beta\\\\src\\\\js\\\\background.js\");\n  reactHotLoader.register(updateLastVisited, \"updateLastVisited\", \"C:\\\\Users\\\\STP Interlude\\\\Desktop\\\\AntiTabHoarder-Beta\\\\src\\\\js\\\\background.js\");\n  reactHotLoader.register(updateTimeElapsedOnTabChange, \"updateTimeElapsedOnTabChange\", \"C:\\\\Users\\\\STP Interlude\\\\Desktop\\\\AntiTabHoarder-Beta\\\\src\\\\js\\\\background.js\");\n  reactHotLoader.register(delayedDelete, \"delayedDelete\", \"C:\\\\Users\\\\STP Interlude\\\\Desktop\\\\AntiTabHoarder-Beta\\\\src\\\\js\\\\background.js\");\n  reactHotLoader.register(dateToString, \"dateToString\", \"C:\\\\Users\\\\STP Interlude\\\\Desktop\\\\AntiTabHoarder-Beta\\\\src\\\\js\\\\background.js\");\n  reactHotLoader.register(db, \"db\", \"C:\\\\Users\\\\STP Interlude\\\\Desktop\\\\AntiTabHoarder-Beta\\\\src\\\\js\\\\background.js\");\n  reactHotLoader.register(createDataStore, \"createDataStore\", \"C:\\\\Users\\\\STP Interlude\\\\Desktop\\\\AntiTabHoarder-Beta\\\\src\\\\js\\\\background.js\");\n  reactHotLoader.register(deleteDataStore, \"deleteDataStore\", \"C:\\\\Users\\\\STP Interlude\\\\Desktop\\\\AntiTabHoarder-Beta\\\\src\\\\js\\\\background.js\");\n  reactHotLoader.register(insertRecord, \"insertRecord\", \"C:\\\\Users\\\\STP Interlude\\\\Desktop\\\\AntiTabHoarder-Beta\\\\src\\\\js\\\\background.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYmFja2dyb3VuZC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9iYWNrZ3JvdW5kLmpzPzgxMDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuLi9pbWcvaWNvbi0xMjgucG5nJ1xuaW1wb3J0ICcuLi9pbWcvaWNvbi0zNC5wbmcnXG4ndXNlIHN0cmljdCc7XG5pbXBvcnR7IHN0YXJ0LCBlbmQgfSBmcm9tICcuL3RpbWUuanMnO1xubGV0IHRhYmxlRW50cnkgPSB7fVxudmFyIHN0YXJ0VGltZSwgZW5kVGltZTtcbmluaXRpYWxpemVUYWJsZUVudHJpZXMoKTtcbnVwZGF0ZVRpdGxlKCk7XG51cGRhdGVMYXN0VmlzaXRlZCgpO1xudXBkYXRlVGltZUVsYXBzZWRPblRhYkNoYW5nZSgpO1xuXG5jb25zb2xlLmxvZyhjaHJvbWUud2luZG93cy5XSU5ET1dfSURfQ1VSUkVOVCk7XG5mdW5jdGlvbiB1cGRhdGVUaXRsZSgpe1xuXHRjaHJvbWUudGFicy5vblVwZGF0ZWQuYWRkTGlzdGVuZXIoZnVuY3Rpb24odGFiSWQsIGNoYW5nZUluZm8sIHRhYil7XG5cblx0XHRpZihjaGFuZ2VJbmZvICE9IHVuZGVmaW5lZCAmJiBjaGFuZ2VJbmZvLmZhdkljb25VcmwgIT0gdW5kZWZpbmVkKXtcblx0XHRcdHRhYmxlRW50cnlbdGFiSWRdLmZhdmljb25VcmwgPSBjaGFuZ2VJbmZvLmZhdkljb25Vcmw7XG5cdFx0XHRjb25zb2xlLmxvZygnZmF2aWNvbiB1cmwgb251cGRhdGVkOiAnLCB0YWJsZUVudHJ5W3RhYklkXS5mYXZpY29uVXJsKTtcblx0XHRcdGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7ZW50cmllczogdGFibGVFbnRyeX0pO1xuXG5cdFx0fVxuXG5cdFx0aWYoY2hhbmdlSW5mbyAhPSB1bmRlZmluZWQgJiYgY2hhbmdlSW5mby51cmwgIT0gdW5kZWZpbmVkKXtcblx0XHRcdHRhYmxlRW50cnlbdGFiSWRdLnVybCA9IGNoYW5nZUluZm8udXJsO1xuXHRcdFx0Y29uc29sZS5sb2coJ3llczogJywgdGFibGVFbnRyeVt0YWJJZF0udXJsKTtcblxuXHRcdFx0Y2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHtlbnRyaWVzOiB0YWJsZUVudHJ5fSk7XG5cblx0XHR9XG5cblx0XHRpZihjaGFuZ2VJbmZvICE9IHVuZGVmaW5lZCAmJiBjaGFuZ2VJbmZvLnRpdGxlICE9IHVuZGVmaW5lZCl7XG5cdFx0XHR0YWJsZUVudHJ5W3RhYklkXS50aXRsZSA9IGNoYW5nZUluZm8udGl0bGU7XG5cdFx0XHRjb25zb2xlLmxvZygnTmV3IHRpdGxlIG9mICcsIHRhYklkLCAnaXMnLCB0YWJsZUVudHJ5W3RhYklkXS50aXRsZSlcblx0XHRcdGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7ZW50cmllczogdGFibGVFbnRyeX0pO1xuXHRcdH1cblx0fSlcbn1cblxuZnVuY3Rpb24gaW5pdGlhbGl6ZVRhYmxlRW50cmllcygpe1xuXHRjaHJvbWUudGFicy5xdWVyeSh7Y3VycmVudFdpbmRvdzogdHJ1ZX0sIGZ1bmN0aW9uKGFycmF5T2ZUYWJzKXtcblx0XHRmb3IoY29uc3QgdGFiIG9mIGFycmF5T2ZUYWJzKXtcblx0XHRcdGNvbnNvbGUubG9nKFwiUXVlcnkgdXJsOiBcIiwgdGFiLmZhdkljb25VcmwpO1xuXHRcdFx0dGFibGVFbnRyeVt0YWIuaWRdID0ge2lkOiB0YWIuaWQsIHVybDogdGFiLnVybCwgZmF2aWNvblVybDogdGFiLmZhdkljb25VcmwsIHRpdGxlOiB0YWIudGl0bGUsIHRpbWVFbGFwc2VkOiAwLCBsYXN0VmlzaXRlZDogJycsIH1cblx0XHRcdGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7ZW50cmllczogdGFibGVFbnRyeX0pXG5cdFx0fVxuXHR9KVxufVxuXG4vLyBEZWxldGVzIG5ldyB0YWJzIGFmdGVyIGEgdXNlci1zcGVjaWZpZWQgZGVsYXlcbmNocm9tZS50YWJzLm9uQ3JlYXRlZC5hZGRMaXN0ZW5lcihmdW5jdGlvbih0YWIpe1xuXHR0YWJsZUVudHJ5W3RhYi5pZF0gPSB7aWQ6IHRhYi5pZCwgdXJsOiB0YWIucGVuZGluZ1VybCwgdGl0bGU6IHRhYi50aXRsZSwgdGltZUVsYXBzZWQ6IDAsIGxhc3RWaXNpdGVkOiAnJ31cblx0Y2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHtlbnRyaWVzOiB0YWJsZUVudHJ5fSlcblx0Y2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KG51bGwsIGZ1bmN0aW9uKHJlc3VsdHMpe1xuXHRcdGlmKHJlc3VsdHMuYXV0b19kZWxldGVfdG9nZ2xlID09IHRydWUpe1xuXHRcdFx0cmVzdWx0cy50YWJzVG9EZWxldGVbdGFiLmlkXSA9IG5ldyBEYXRlKCkudG9TdHJpbmcoKTtcblx0XHRcdGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7dGFic1RvRGVsZXRlOiByZXN1bHRzLnRhYnNUb0RlbGV0ZX0pO1xuXHRcdFx0Y29uc29sZS5sb2coJ0RlYnVnICMxICcsIHRhYi5pZCwgcmVzdWx0cy50YWJzVG9EZWxldGUpO1xuXHRcdFx0ZGVsYXllZERlbGV0ZSh0YWIuaWQpO1xuXHRcdH1cblx0fSlcbn0pO1xuXG4vLyAvLyBJbiB0aGUgY2FzZSB0aGUgdXNlciBzZWxmLWRlbGV0ZXMgdGhlIHRhYiBiZWZvcmUgZGVsYXllZERlbGV0ZSBpcyByYW4sIG5vIGVycm9ycyB3aWxsIGJlIGZvdW5kXG5jaHJvbWUudGFicy5vblJlbW92ZWQuYWRkTGlzdGVuZXIoZnVuY3Rpb24odGFiSUQsIHJlbW92ZUluZm8pe1xuXHRjb25zb2xlLmxvZygnUmVtb3ZlZCcsIHRhYklELCAnZnJvbSB0YWJsZUVudHJ5LiBPcmlnaW5hbCBkYXRhOicsIHRhYmxlRW50cnlbdGFiSURdKTtcblx0ZGVsZXRlIHRhYmxlRW50cnlbdGFiSURdO1xuXHRjb25zb2xlLmxvZygnQ2hlY2sgdG8gc2VlIGlmIGRhdGEgaXMgbm93IG51bGw6JywgdGFibGVFbnRyeVt0YWJJRF0pXG5cdGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7ZW50cmllczogdGFibGVFbnRyeX0pO1xuXG5cdGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChudWxsLCBmdW5jdGlvbihyZXN1bHRzKXtcblx0XHRpZihyZXN1bHRzLnRhYnNUb0RlbGV0ZSAhPSB1bmRlZmluZWQgJiYgcmVzdWx0cy50YWJzVG9EZWxldGUuaGFzT3duUHJvcGVydHkodGFiSUQpICYmIHJlc3VsdHMuYXV0b19kZWxldGVfdG9nZ2xlID09IHRydWUpe1xuXHRcdFx0XHRkZWxldGUgcmVzdWx0cy50YWJzVG9EZWxldGVbdGFiSURdO1xuXHRcdFx0XHRjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoe3RhYnNUb0RlbGV0ZTogcmVzdWx0cy50YWJzVG9EZWxldGV9KTtcblx0XHR9XG5cdH0pO1xufSk7XG5cbi8vIC8vIFVwZGF0ZXMgdGhlIExhc3QgVmlzaXRlZCBjb2x1bW4gZm9yIHRoZSBjdXJyZW50IHRhYlxuZnVuY3Rpb24gdXBkYXRlTGFzdFZpc2l0ZWQoKXtcblx0Y2hyb21lLnRhYnMub25BY3RpdmF0ZWQuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYWN0aXZlSW5mbyl7XG5cdFx0bGV0IGN1cnJlbnRUYWIgPSBhY3RpdmVJbmZvLnRhYklkO1xuXHRcdGlmKHRhYmxlRW50cnlbY3VycmVudFRhYl0gIT0gdW5kZWZpbmVkKXtcblx0XHRcdHRhYmxlRW50cnlbY3VycmVudFRhYl0ubGFzdFZpc2l0ZWQgPSBkYXRlVG9TdHJpbmcoKG5ldyBEYXRlKCkpKTtcblx0XHRcdGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCgge2VudHJpZXM6IHRhYmxlRW50cnl9ICk7XG5cdFx0fVxuXHR9KVxufVxuXG4vLyBVcGRhdGVzIHRoZSBUaW1lIEVsYXBzZWQgY29sdW1uIGZvciB0aGUgY3VycmVudCB0YWJcbmZ1bmN0aW9uIHVwZGF0ZVRpbWVFbGFwc2VkT25UYWJDaGFuZ2UoKXtcblx0Y2hyb21lLnRhYnMucXVlcnkoe2N1cnJlbnRXaW5kb3c6IHRydWUsIGFjdGl2ZTogdHJ1ZX0sIGZ1bmN0aW9uKGFycmF5T2ZUYWJzKXtcblx0XHRsZXQgcHJldmlvdXMgPSBhcnJheU9mVGFic1swXS5pZDtcblx0XHRjaHJvbWUudGFicy5vbkFjdGl2YXRlZC5hZGRMaXN0ZW5lcihmdW5jdGlvbihhY3RpdmVJbmZvKXtcblx0XHRcdGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVRpbWUgZWxhcHNlZCBvbkFjdGl2YXRlZC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cIik7XG5cdFx0XHRsZXQgY3VycmVudCA9IGFjdGl2ZUluZm8udGFiSWQ7XG5cblx0XHRcdGlmKHRhYmxlRW50cnlbcHJldmlvdXNdICE9IHVuZGVmaW5lZCl7XHRcdFxuXHRcdFx0XHRjb25zb2xlLmxvZygnVGFiIHN3aXRjaCB0cmlnZ2VyZWQgLS0gUHJldmlvdXMgVGFiOicsIHRhYmxlRW50cnlbcHJldmlvdXNdLnRpdGxlKVxuXHRcdFx0XHR0YWJsZUVudHJ5W3ByZXZpb3VzXS50aW1lRWxhcHNlZCA9IHRhYmxlRW50cnlbcHJldmlvdXNdLnRpbWVFbGFwc2VkICsgZW5kKGVuZFRpbWUsIHN0YXJ0VGltZSk7XG5cdFx0XHRcdGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7ZW50cmllczogdGFibGVFbnRyeX0pO1xuXHRcdFx0fVxuIFxuXHRcdFx0aWYodGFibGVFbnRyeVtjdXJyZW50XS50aW1lRWxhcHNlZCA9PSB1bmRlZmluZWQpe1xuXHRcdFx0XHRjb25zb2xlLmxvZygnVW5kZWZpbmVkIGN1cnJlbnQgdGFiIHlhcyAtLSBUaXRsZTogJywgdGFibGVFbnRyeVtjdXJyZW50XS50aXRsZSlcblx0XHRcdFx0dGFibGVFbnRyeVtjdXJyZW50XS50aW1lRWxhcHNlZCA9IDA7XG5cdFx0XHR9XG5cdFx0XHRlbHNle1xuXHRcdFx0XHRzdGFydFRpbWUgPSBzdGFydCgpO1xuXHRcdFx0XHRjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoe2VudHJpZXM6IHRhYmxlRW50cnl9KTtcblx0XHRcdFx0cHJldmlvdXMgPSBjdXJyZW50O1xuXHRcdFx0fVxuXHRcdH0pXG5cdH0pXG59XG5cbmZ1bmN0aW9uIGRlbGF5ZWREZWxldGUodGFiSUQpe1xuXHRsZXQgZGVsYXllZFRpbWU7XG5cblx0Y2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KG51bGwsIGZ1bmN0aW9uKHJlc3VsdHMpe1xuXHRcdGlmKHJlc3VsdHMudGltZVVuaXQgPT0gXCJtaW51dGVzXCIpIHsgZGVsYXllZFRpbWUgPSByZXN1bHRzLmF1dG9fZGVsZXRlX3RpbWVfYW1vdW50ICogNjAwMDAgfTtcblx0XHRpZihyZXN1bHRzLnRpbWVVbml0ID09IFwiaG91cnNcIikgIHsgZGVsYXllZFRpbWUgPSByZXN1bHRzLmF1dG9fZGVsZXRlX3RpbWVfYW1vdW50ICogMzYwMDAwMCB9O1xuXHRcdGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChudWxsLCBmdW5jdGlvbihyZXN1bHRzKXtcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRcdFx0Y2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KG51bGwsIGZ1bmN0aW9uKHJlc3VsdHMpe1xuXHRcdFx0XHRcdGlmKHRhYklEIGluIHJlc3VsdHMudGFic1RvRGVsZXRlKXtcblx0XHRcdFx0XHRcdGNocm9tZS50YWJzLnJlbW92ZSh0YWJJRClcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pXHRcblx0XHRcdH0sIGRlbGF5ZWRUaW1lKTtcblxuXHRcdH0pXG5cdH0pXG59XG5cbmZ1bmN0aW9uIGRhdGVUb1N0cmluZyhkYXRlT2JqZWN0KSB7XG5cdGNvbnN0IHllYXIgPSBkYXRlT2JqZWN0LmdldEZ1bGxZZWFyKCk7XG5cdGNvbnN0IG1vbnRoID0gZGF0ZU9iamVjdC5nZXRNb250aCgpICsgMTtcblx0Y29uc3QgZGF5ID0gZGF0ZU9iamVjdC5nZXREYXRlKCk7XG5cdGxldCBob3VyID0gZGF0ZU9iamVjdC5nZXRIb3VycygpO1xuXHRsZXQgbWludXRlcyA9IGRhdGVPYmplY3QuZ2V0TWludXRlcygpO1xuXHRsZXQgc2Vjb25kcyA9IGRhdGVPYmplY3QuZ2V0U2Vjb25kcygpO1xuICBcblx0aWYgKGRhdGVPYmplY3QuZ2V0SG91cnMoKSA8IDEwKSB7XG5cdCAgaG91ciA9IFwiMFwiICsgZGF0ZU9iamVjdC5nZXRIb3VycygpO1xuXHR9XG4gIFxuXHRpZiAoZGF0ZU9iamVjdC5nZXRNaW51dGVzKCkgPCAxMCkge1xuXHQgIG1pbnV0ZXMgPSBcIjBcIiArIGRhdGVPYmplY3QuZ2V0TWludXRlcygpO1xuXHR9XG4gIFxuXHRpZiAoZGF0ZU9iamVjdC5nZXRTZWNvbmRzKCkgPCAxMCkge1xuXHQgIHNlY29uZHMgPSBcIjBcIiArIGRhdGVPYmplY3QuZ2V0U2Vjb25kcygpO1xuXHR9XG4gIFxuXHRjb25zdCBmb3JtYXR0ZWREYXRlID0gbW9udGggKyBcIi9cIiArIGRheSArIFwiL1wiICsgeWVhcjtcblx0Y29uc3QgZm9ybWF0dGVkVGltZSA9IGhvdXIgKyBcIjpcIiArIG1pbnV0ZXMgKyBcIjpcIiArIHNlY29uZHM7XG5cdGNvbnN0IGZpbmlzaGVkRm9ybWF0dGVkU3RyaW5nID0gZm9ybWF0dGVkRGF0ZSArIFwiLCBcIiArIGZvcm1hdHRlZFRpbWU7XG5cdHJldHVybiBmaW5pc2hlZEZvcm1hdHRlZFN0cmluZztcbiAgfVxuXG4gIGxldCBkYiA9IG51bGw7XG4gIGZ1bmN0aW9uIGNyZWF0ZURhdGFTdG9yZSgpIHtcblx0Y29uc3QgcmVxdWVzdCA9IHdpbmRvdy5pbmRleGVkREIub3BlbignTXlJbmRleGVkREInKTtcblx0cmVxdWVzdC5vbmVycnJvciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0Y29uc29sZS5sb2coJ0Vycm9yIGluIG9wZW5pbmcgTXlJbmRleGVkREIuJyk7XHRcblx0fVxuXHRcblx0cmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSBmdW5jdGlvbihldmVudCl7XG5cdFx0ZGIgPSBldmVudC50YXJnZXQucmVzdWx0O1xuXHRcdFxuXHRcdGxldCBzdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdib29rbWFya3MnLCB7XG5cdFx0XHRrZXlQYXRoOiAnaWQnLCBhdXRvSW5jcmVtZW50OiBmYWxzZVxuXHRcdH0pO1xuXHRcdFxuXHRcdHN0b3JlLnRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0Y29uc29sZS5sb2coJ1N0b3JlIGNyZWF0ZWQuJylcblx0XHR9XG5cdH1cblx0XG5cdHJlcXVlc3Qub25zdWNjZXNzID0gZnVuY3Rpb24oZXZlbnQpe1xuXHRcdGRiID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcblx0XHRjb25zb2xlLmxvZygnTXlJbmRleGVkREIgb3BlbmVkLicpXG5cdH1cbn1cblxuZnVuY3Rpb24gZGVsZXRlRGF0YVN0b3JlKCkge1xuXHRjb25zdCByZXF1ZXN0ID0gd2luZG93LmluZGV4ZWREQi5kZWxldGVEYXRlYmFzZSgnTXlJbmRleGVkREInKTtcblx0cmVxdWVzdC5vbmVycnJvciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0Y29uc29sZS5sb2coJ0Vycm9yIGluIGRlbGV0aW5nIE15SW5kZXhlZERCLicpO1x0XG5cdH1cblx0XG5cdHJlcXVlc3Qub25zdWNjZXNzID0gZnVuY3Rpb24oZXZlbnQpe1xuXHRcdGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsIGRlbGV0aW5nIE15SW5kZXhlZERCLicpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGluc2VydFJlY29yZChyZWNvcmQpe1xuXHRpZihkYil7XHRcblx0XHRjb25zdCBpbnNlcnRUcmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKCdib29rbWFya3MnLCAncmVhZHdyaXRlJyk7XG5cdFx0Y29uc3Qgb2JqZWN0U3RvcmUgPSBpbnNlcnRUcmFuc2FjdGlvbi5vYmplY3RTdG9yZSgnYm9va21hcmtzJyk7XG5cblx0XHRpbnNlcnRUcmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRjb25zb2xlLmxvZygnQWxsIGluc2VydCB0cmFuc2FjdGlvbnMgYXJlIGNvbXBsZXRlLicpO1xuXHRcdH1cblxuXHRcdGluc2VydFRyYW5zYWN0aW9uLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0XHRcdGNvbnNvbGUubG9nKCdFcnJvciBpbnNlcnRpbmcgdHJhbnNhY3Rpb25zLicpO1xuXHRcdH1cblxuXHRcdGxldCByZXF1ZXN0ID0gb2JqZWN0U3RvcmUuYWRkKHJlY29yZClcblx0XHRyZXF1ZXN0Lm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdFx0Y29uc29sZS5sb2coJ1N1Y2Nlc3NmdWxseSBhZGRlZC4nKTtcblx0XHR9XG5cdH1cbn1cblxuLy8gTGlzdGVuZXIgZm9yIEluZGV4ZWREQiBvcGVyYXRpb25zXG5jaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoXG5cdGZ1bmN0aW9uKHJlcXVlc3QsIHNlbmRlciwgc2VuZFJlc3BvbnNlKXtcblx0XHQvLyBXaGVuIHRoZSB1c2VyIGNsaWNrcyBvbiAnQm9va21hcmsnIGZvciBhIHJvdyBpbiB0aGUgVGFiIE1hbmFnZXJcblx0XHRpZihyZXF1ZXN0Lm1lc3NhZ2UgPT0gJ2luc2VydCcpe1xuXHRcdFx0aW5zZXJ0UmVjb3JkKHJlcXVlc3QubmV3Qm9va21hcmspXG5cdFx0fVxuXG5cdFx0Ly8gV2hlbiB0aGUgdXNlciBjbGlja3Mgb24gdGhlICdWaWV3IEJvb2ttYXJrcycgYnV0dG9uXG5cdFx0ZWxzZSBpZihyZXF1ZXN0Lm1lc3NhZ2UgPT0gJ2xhdW5jaCcpe1xuXHRcdFx0Y29uc29sZS5sb2coJ1JlY2VpdmVkIExhdW5jaCcpO1xuXHRcdFx0Y2hyb21lLnRhYnMuY3JlYXRlKHsgdXJsOiBjaHJvbWUucnVudGltZS5nZXRVUkwoJy4vZGFzaGJvYXJkLmh0bWwnKSB9KTtcblx0XHR9XG5cdH1cbilcblxuY3JlYXRlRGF0YVN0b3JlKCk7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQU1BO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUdBOzs7Ozs7Ozs7O0FBcE9BO0FBQ0E7QUFBQTtBQU9BO0FBMEJBO0FBd0NBO0FBV0E7QUEwQkE7QUFtQkE7QUEwQkE7QUFDQTtBQXdCQTtBQVdBOzs7Ozs7Ozs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/background.js\n");

/***/ })

})